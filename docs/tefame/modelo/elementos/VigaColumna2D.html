<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of VigaColumna2D</title>
  <meta name="keywords" content="VigaColumna2D">
  <meta name="description" content="______________________________________________________________________">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- # tefame --><!-- # modelo --><!-- menu.html elementos -->
<h1>VigaColumna2D
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>______________________________________________________________________</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> ______________________________________________________________________
|                                                                      |
|           TEFAME - Toolbox para Elementos Finitos y Analisis         |
|                  Matricial de Estructuras en MATLAB                  |
|                                                                      |
|                   Area  de Estructuras y Geotecnia                   |
|                   Departamento de Ingenieria Civil                   |
|              Facultad de Ciencias Fisicas y Matematicas              |
|                         Universidad de Chile                         |
|                                                                      |
| TEFAME es una  plataforma en base a objetos para modelar, analizar y |
| visualizar  la respuesta de sistemas  estructurales usando el metodo |
| de elementos finitos y analisis matricial de estructuras en MATLAB.  |
| La plataforma es desarrollada en  propagacion orientada a objetos en |
| MATLAB.                                                              |
|______________________________________________________________________|
 ______________________________________________________________________
|                                                                      |
| Clase VigaColumna2D                                                  |
|                                                                      |
| Este archivo contiene la definicion de la Clase VigaColumna 2D       |
| ColumnaViga2D es una  subclase de la clase Elemento y  corresponde a |
| la representacion del elemento viga-columna que transmite esfuerzos  |
| axiales y de corte.                                                  |
|                                                                      |
| Programado: Pablo Pizarro @ppizarror.com                             |
| Fecha: 10/06/2018                                                    |
|______________________________________________________________________|

  Properties (Access=private):
       nodosObj
       gdlID
       Eo
       Ao
       Io
       dx
       dy
       L
       Feq
       T
       Klp
       PLOTNELEM
  Methods:
       vigaColumna2DObj = VigaColumna2D(etiquetaViga,nodo1Obj,nodo2Obj,Imaterial,Ematerial,densidad)
       numeroNodos = obtenerNumeroNodos(vigaColumna2DObj)
       nodosBiela = obtenerNodos(vigaColumna2DObj)
       numeroGDL = obtenerNumeroGDL(vigaColumna2DObj)
       gdlIDBiela = obtenerGDLID(vigaColumna2DObj)
       k_global = obtenerMatrizRigidezCoordGlobal(vigaColumna2DObj)
       k_local = obtenerMatrizRigidezCoordLocal(vigaColumna2DObj)
       m_masa = obtenerVectorMasa(vigaColumna2DObj)
       m = obtenerMasa(vigaColumna2DObj)
       fr_global = obtenerFuerzaResistenteCoordGlobal(vigaColumna2DObj)
       fr_local = obtenerFuerzaResistenteCoordLocal(vigaColumna2DObj)
       l = obtenerLargo(vigaColumna2DObj)
       T = obtenerMatrizTransformacion(vigaColumna2DObj)
       theta = obtenerAngulo(vigaColumna2DObj)
       definirGDLID(vigaColumna2DObj)
       agregarFuerzaResistenteAReacciones(vigaColumna2DObj)
       guardarPropiedades(vigaColumna2DObj,archivoSalidaHandle)
       guardarEsfuerzosInternos(vigaColumna2DObj,archivoSalidaHandle)
       disp(vigaColumna2DObj)
  Methods SuperClass (ComponenteModelo):
       etiqueta = obtenerEtiqueta(componenteModeloObj)
       e = equals(componenteModeloObj,obj)
       objID = obtenerIDObjeto(componenteModeloObj)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../tefame/modelo/base/ComponenteModelo.html" class="code" title="">ComponenteModelo</a>	______________________________________________________________________</li><li><a href="Elemento.html" class="code" title="">Elemento</a>	______________________________________________________________________</li><li><a href="VigaColumna2D.html" class="code" title="">VigaColumna2D</a>	______________________________________________________________________</li><li><a href="../../../tefame/utils/dispMetodoTEFAME.html" class="code" title="function dispMetodoTEFAME()">dispMetodoTEFAME</a>	dispMetodoTEFAME: Normaliza la salida estandar disp en consola de los</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="VigaColumna2D.html" class="code" title="">VigaColumna2D</a>	______________________________________________________________________</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function vigaColumna2DObj = VigaColumna2D(etiquetaViga, nodo1Obj, nodo2Obj, Imaterial, Ematerial, Amaterial, densidad)</a></li><li><a href="#_sub2" class="code">function l = obtenerLargo(vigaColumna2DObj)</a></li><li><a href="#_sub3" class="code">function numeroNodos = obtenerNumeroNodos(vigaColumna2DObj)</a></li><li><a href="#_sub4" class="code">function nodosViga = obtenerNodos(vigaColumna2DObj)</a></li><li><a href="#_sub5" class="code">function numeroGDL = obtenerNumeroGDL(vigaColumna2DObj)</a></li><li><a href="#_sub6" class="code">function gdlIDViga = obtenerGDLID(vigaColumna2DObj)</a></li><li><a href="#_sub7" class="code">function T = obtenerMatrizTransformacion(vigaColumna2DObj)</a></li><li><a href="#_sub8" class="code">function theta = obtenerAngulo(vigaColumna2DObj)</a></li><li><a href="#_sub9" class="code">function k_global = obtenerMatrizRigidezCoordGlobal(vigaColumna2DObj)</a></li><li><a href="#_sub10" class="code">function k_local = obtenerMatrizRigidezCoordLocal(vigaColumna2DObj)</a></li><li><a href="#_sub11" class="code">function m = obtenerMasa(vigaColumna2DObj)</a></li><li><a href="#_sub12" class="code">function m_masa = obtenerVectorMasa(vigaColumna2DObj)</a></li><li><a href="#_sub13" class="code">function fr_global = obtenerFuerzaResistenteCoordGlobal(vigaColumna2DObj)</a></li><li><a href="#_sub14" class="code">function fr_local = obtenerFuerzaResistenteCoordLocal(vigaColumna2DObj)</a></li><li><a href="#_sub15" class="code">function definirGDLID(vigaColumna2DObj)</a></li><li><a href="#_sub16" class="code">function sumarFuerzaEquivalente(vigaColumna2DObj, f)</a></li><li><a href="#_sub17" class="code">function f = obtenerFuerzaEquivalente(vigaColumna2DObj)</a></li><li><a href="#_sub18" class="code">function agregarFuerzaResistenteAReacciones(vigaColumna2DObj)</a></li><li><a href="#_sub19" class="code">function guardarPropiedades(vigaColumna2DObj, archivoSalidaHandle)</a></li><li><a href="#_sub20" class="code">function guardarEsfuerzosInternos(vigaColumna2DObj, archivoSalidaHandle)</a></li><li><a href="#_sub21" class="code">function N = obtenerVectorN(elementoObj, x, l)</a></li><li><a href="#_sub22" class="code">function y = plotVigaDeformar(elementoObj, deformadas)</a></li><li><a href="#_sub23" class="code">function plot(elementoObj, deformadas, tipoLinea, grosorLinea, defElem)</a></li><li><a href="#_sub24" class="code">function disp(vigaColumna2DObj)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% ______________________________________________________________________</span>
0002 <span class="comment">%|                                                                      |</span>
0003 <span class="comment">%|          TEFAME - Toolbox para Elementos Finitos y Analisis          |</span>
0004 <span class="comment">%|                  Matricial de Estructuras en MATLAB                  |</span>
0005 <span class="comment">%|                                                                      |</span>
0006 <span class="comment">%|                   Area  de Estructuras y Geotecnia                   |</span>
0007 <span class="comment">%|                   Departamento de Ingenieria Civil                   |</span>
0008 <span class="comment">%|              Facultad de Ciencias Fisicas y Matematicas              |</span>
0009 <span class="comment">%|                         Universidad de Chile                         |</span>
0010 <span class="comment">%|                                                                      |</span>
0011 <span class="comment">%| TEFAME es una  plataforma en base a objetos para modelar, analizar y |</span>
0012 <span class="comment">%| visualizar  la respuesta de sistemas  estructurales usando el metodo |</span>
0013 <span class="comment">%| de elementos finitos y analisis matricial de estructuras en MATLAB.  |</span>
0014 <span class="comment">%| La plataforma es desarrollada en  propagacion orientada a objetos en |</span>
0015 <span class="comment">%| MATLAB.                                                              |</span>
0016 <span class="comment">%|______________________________________________________________________|</span>
0017 <span class="comment">% ______________________________________________________________________</span>
0018 <span class="comment">%|                                                                      |</span>
0019 <span class="comment">%| Clase VigaColumna2D                                                  |</span>
0020 <span class="comment">%|                                                                      |</span>
0021 <span class="comment">%| Este archivo contiene la definicion de la Clase VigaColumna 2D       |</span>
0022 <span class="comment">%| ColumnaViga2D es una  subclase de la clase Elemento y  corresponde a |</span>
0023 <span class="comment">%| la representacion del elemento viga-columna que transmite esfuerzos  |</span>
0024 <span class="comment">%| axiales y de corte.                                                  |</span>
0025 <span class="comment">%|                                                                      |</span>
0026 <span class="comment">%| Programado: Pablo Pizarro @ppizarror.com                             |</span>
0027 <span class="comment">%| Fecha: 10/06/2018                                                    |</span>
0028 <span class="comment">%|______________________________________________________________________|</span>
0029 <span class="comment">%</span>
0030 <span class="comment">%  Properties (Access=private):</span>
0031 <span class="comment">%       nodosObj</span>
0032 <span class="comment">%       gdlID</span>
0033 <span class="comment">%       Eo</span>
0034 <span class="comment">%       Ao</span>
0035 <span class="comment">%       Io</span>
0036 <span class="comment">%       dx</span>
0037 <span class="comment">%       dy</span>
0038 <span class="comment">%       L</span>
0039 <span class="comment">%       Feq</span>
0040 <span class="comment">%       T</span>
0041 <span class="comment">%       Klp</span>
0042 <span class="comment">%       PLOTNELEM</span>
0043 <span class="comment">%  Methods:</span>
0044 <span class="comment">%       vigaColumna2DObj = VigaColumna2D(etiquetaViga,nodo1Obj,nodo2Obj,Imaterial,Ematerial,densidad)</span>
0045 <span class="comment">%       numeroNodos = obtenerNumeroNodos(vigaColumna2DObj)</span>
0046 <span class="comment">%       nodosBiela = obtenerNodos(vigaColumna2DObj)</span>
0047 <span class="comment">%       numeroGDL = obtenerNumeroGDL(vigaColumna2DObj)</span>
0048 <span class="comment">%       gdlIDBiela = obtenerGDLID(vigaColumna2DObj)</span>
0049 <span class="comment">%       k_global = obtenerMatrizRigidezCoordGlobal(vigaColumna2DObj)</span>
0050 <span class="comment">%       k_local = obtenerMatrizRigidezCoordLocal(vigaColumna2DObj)</span>
0051 <span class="comment">%       m_masa = obtenerVectorMasa(vigaColumna2DObj)</span>
0052 <span class="comment">%       m = obtenerMasa(vigaColumna2DObj)</span>
0053 <span class="comment">%       fr_global = obtenerFuerzaResistenteCoordGlobal(vigaColumna2DObj)</span>
0054 <span class="comment">%       fr_local = obtenerFuerzaResistenteCoordLocal(vigaColumna2DObj)</span>
0055 <span class="comment">%       l = obtenerLargo(vigaColumna2DObj)</span>
0056 <span class="comment">%       T = obtenerMatrizTransformacion(vigaColumna2DObj)</span>
0057 <span class="comment">%       theta = obtenerAngulo(vigaColumna2DObj)</span>
0058 <span class="comment">%       definirGDLID(vigaColumna2DObj)</span>
0059 <span class="comment">%       agregarFuerzaResistenteAReacciones(vigaColumna2DObj)</span>
0060 <span class="comment">%       guardarPropiedades(vigaColumna2DObj,archivoSalidaHandle)</span>
0061 <span class="comment">%       guardarEsfuerzosInternos(vigaColumna2DObj,archivoSalidaHandle)</span>
0062 <span class="comment">%       disp(vigaColumna2DObj)</span>
0063 <span class="comment">%  Methods SuperClass (ComponenteModelo):</span>
0064 <span class="comment">%       etiqueta = obtenerEtiqueta(componenteModeloObj)</span>
0065 <span class="comment">%       e = equals(componenteModeloObj,obj)</span>
0066 <span class="comment">%       objID = obtenerIDObjeto(componenteModeloObj)</span>
0067 
0068 classdef <a href="VigaColumna2D.html" class="code" title="">VigaColumna2D</a> &lt; <a href="Elemento.html" class="code" title="">Elemento</a>
0069     
0070     properties(Access = private)
0071         nodosObj <span class="comment">% Cell con los nodos</span>
0072         gdlID <span class="comment">% Lista con los ID de los grados de libertad</span>
0073         Ao <span class="comment">% Area de la seccion transversal</span>
0074         rho <span class="comment">% Densidad</span>
0075         Eo <span class="comment">% Modulo de elasticidad</span>
0076         Io <span class="comment">% Inercia de la seccion</span>
0077         dx <span class="comment">% Distancia en el eje x entre los nodos</span>
0078         dy <span class="comment">% Distancia en el eje y entre los nodos</span>
0079         L <span class="comment">% Largo del elemento</span>
0080         theta <span class="comment">% Angulo de inclinacion de la viga</span>
0081         Feq <span class="comment">% Fuerza equivalente</span>
0082         T <span class="comment">% Matriz de transformacion</span>
0083         Klp <span class="comment">% Matriz de rigidez local del elemento</span>
0084         PLOTNELEM <span class="comment">% Numero de elementos en los que se discretiza para el grafico</span>
0085     <span class="keyword">end</span> <span class="comment">% properties VigaColumna2D</span>
0086     
0087     methods
0088         
0089         <a name="_sub0" href="#_subfunctions" class="code">function vigaColumna2DObj = VigaColumna2D(etiquetaViga, nodo1Obj, nodo2Obj, Imaterial, Ematerial, Amaterial, densidad)</a>
0090             
0091             <span class="comment">% Completa con ceros si no hay argumentos</span>
0092             <span class="keyword">if</span> nargin == 0
0093                 etiquetaViga = <span class="string">''</span>;
0094             <span class="keyword">end</span> <span class="comment">% if</span>
0095             <span class="keyword">if</span> ~exist(<span class="string">'densidad'</span>, <span class="string">'var'</span>)
0096                 densidad = 0;
0097             <span class="keyword">end</span>
0098             
0099             <span class="comment">% Llamamos al constructor de la SuperClass que es la clase Elemento</span>
0100             vigaColumna2DObj = vigaColumna2DObj@<a href="Elemento.html" class="code" title="">Elemento</a>(etiquetaViga);
0101             
0102             <span class="comment">% Guarda material</span>
0103             vigaColumna2DObj.nodosObj = {nodo1Obj; nodo2Obj};
0104             vigaColumna2DObj.Ao = Amaterial;
0105             vigaColumna2DObj.Eo = Ematerial;
0106             vigaColumna2DObj.Io = Imaterial;
0107             vigaColumna2DObj.rho = densidad;
0108             vigaColumna2DObj.gdlID = [];
0109             
0110             <span class="comment">% Calcula componentes geometricas</span>
0111             coordNodo1 = nodo1Obj.obtenerCoordenadas();
0112             coordNodo2 = nodo2Obj.obtenerCoordenadas();
0113             vigaColumna2DObj.dx = abs(coordNodo2(1)-coordNodo1(1));
0114             vigaColumna2DObj.dy = abs(coordNodo2(2)-coordNodo1(2));
0115             vigaColumna2DObj.L = sqrt(vigaColumna2DObj.dx^2+vigaColumna2DObj.dy^2);
0116             theta = atan(vigaColumna2DObj.dy/vigaColumna2DObj.dx);
0117             vigaColumna2DObj.theta = theta;
0118             
0119             <span class="comment">% Calcula matriz de transformacion dado el angulo</span>
0120             T = [cos(theta), sin(theta), 0, 0, 0, 0; <span class="keyword">...</span>
0121                 -sin(theta), cos(theta), 0, 0, 0, 0; <span class="keyword">...</span>
0122                 0, 0, 1, 0, 0, 0; <span class="keyword">...</span>
0123                 0, 0, 0, cos(theta), sin(theta), 0; <span class="keyword">...</span>
0124                 0, 0, 0, -sin(theta), cos(theta), 0; <span class="keyword">...</span>
0125                 0, 0, 0, 0, 0, 1];
0126             vigaColumna2DObj.T = T;
0127             
0128             <span class="comment">% Calcula matriz de rigidez local</span>
0129             A = Amaterial;
0130             E = Ematerial;
0131             I = Imaterial;
0132             L = vigaColumna2DObj.L;
0133             Klp = [A * E / L, 0, 0, -A * E / L, 0, 0; <span class="keyword">...</span>
0134                 0, 12 * E * I / (L^3), 6 * E * I / (L^2), 0, - 12 * E * I / (L^3), 6 * E * I / (L^2); <span class="keyword">...</span>
0135                 0, 6 * E * I / (L^2), 4 * E * I / L, 0, - 6 * E * I / (L^2), 2 * E * I / L; <span class="keyword">...</span>
0136                 -A * E / L, 0, 0, A * E / L, 0, 0; <span class="keyword">...</span>
0137                 0, -12 * E * I / (L^3), - 6 * E * I / (L^2), 0, 12 * E * I / (L^3), -6 * E * I / (L^2); <span class="keyword">...</span>
0138                 0, 6 * E * I / (L^2), 2 * E * I / L, 0, - 6 * E * I / (L^2), 4 * E * I / L];
0139             vigaColumna2DObj.Klp = Klp;
0140             
0141             <span class="comment">% Fuerza equivalente de la viga</span>
0142             vigaColumna2DObj.Feq = [0, 0, 0, 0, 0, 0]';
0143             
0144             <span class="comment">% Agrega el elemento a los nodos</span>
0145             <span class="keyword">for</span> i = 1:2
0146                 vigaColumna2DObj.nodosObj{i}.agregarElementos(vigaColumna2DObj);
0147             <span class="keyword">end</span> <span class="comment">% for i</span>
0148             
0149             <span class="comment">% Otros</span>
0150             vigaColumna2DObj.PLOTNELEM = 10;
0151             
0152         <span class="keyword">end</span> <span class="comment">% VigaColumna2D constructor</span>
0153         
0154         <a name="_sub1" href="#_subfunctions" class="code">function l = obtenerLargo(vigaColumna2DObj)</a>
0155             <span class="comment">% obtenerLargo: Retorna el largo del elemento</span>
0156             <span class="comment">%</span>
0157             <span class="comment">% l = obtenerLargo(vigaColumna2DObj)</span>
0158             
0159             l = vigaColumna2DObj.L;
0160             
0161         <span class="keyword">end</span> <span class="comment">% obtenerLargo function</span>
0162         
0163         <a name="_sub2" href="#_subfunctions" class="code">function numeroNodos = obtenerNumeroNodos(vigaColumna2DObj) </a><span class="comment">%#ok&lt;MANU&gt;</span>
0164             <span class="comment">% obtenerNumeroNodos: Retorna el numero de nodos del elemento</span>
0165             <span class="comment">%</span>
0166             <span class="comment">% numeroNodos = obtenerNumeroNodos(vigaColumna2DObj)</span>
0167             
0168             numeroNodos = 2;
0169             
0170         <span class="keyword">end</span> <span class="comment">% obtenerNumeroNodos function</span>
0171         
0172         <a name="_sub3" href="#_subfunctions" class="code">function nodosViga = obtenerNodos(vigaColumna2DObj)</a>
0173             <span class="comment">% obtenerNodos: Retorna los nodos del elemento</span>
0174             <span class="comment">%</span>
0175             <span class="comment">% nodosViga = obtenerNodos(vigaColumna2DObj)</span>
0176             
0177             nodosViga = vigaColumna2DObj.nodosObj;
0178             
0179         <span class="keyword">end</span> <span class="comment">% obtenerNodos function</span>
0180         
0181         <a name="_sub4" href="#_subfunctions" class="code">function numeroGDL = obtenerNumeroGDL(vigaColumna2DObj) </a><span class="comment">%#ok&lt;MANU&gt;</span>
0182             <span class="comment">% obtenerNumeroGDL: Obtiene el numero de grados de libertad del</span>
0183             <span class="comment">% elemento</span>
0184             <span class="comment">%</span>
0185             <span class="comment">% numeroGDL = obtenerNumeroGDL(vigaColumna2DObj)</span>
0186             
0187             numeroGDL = 6;
0188             
0189         <span class="keyword">end</span> <span class="comment">% obtenerNumeroGDL function</span>
0190         
0191         <a name="_sub5" href="#_subfunctions" class="code">function gdlIDViga = obtenerGDLID(vigaColumna2DObj)</a>
0192             <span class="comment">% obtenerGDLID: Obtiene los ID de los grados de libertad del</span>
0193             <span class="comment">% elemento</span>
0194             <span class="comment">%</span>
0195             <span class="comment">% gdlIDViga = obtenerGDLID(vigaColumna2DObj)</span>
0196             
0197             gdlIDViga = vigaColumna2DObj.gdlID;
0198             
0199         <span class="keyword">end</span> <span class="comment">% obtenerGDLID function</span>
0200         
0201         <a name="_sub6" href="#_subfunctions" class="code">function T = obtenerMatrizTransformacion(vigaColumna2DObj)</a>
0202             <span class="comment">% obtenerMatrizTransformacion: Obtiene la matriz de</span>
0203             <span class="comment">% transformacion del elemento</span>
0204             <span class="comment">%</span>
0205             <span class="comment">% T = obtenerMatrizTransformacion(vigaColumna2DObj)</span>
0206             
0207             T = vigaColumna2DObj.T;
0208             
0209         <span class="keyword">end</span> <span class="comment">% obtenerMatrizTransformacion function</span>
0210         
0211         <a name="_sub7" href="#_subfunctions" class="code">function theta = obtenerAngulo(vigaColumna2DObj)</a>
0212             <span class="comment">% obtenerAngulo: Retorna el angulo de inclinacion del elemento</span>
0213             <span class="comment">%</span>
0214             <span class="comment">% theta = obtenerAngulo(vigaColumna2DObj)</span>
0215             
0216             theta = vigaColumna2DObj.theta;
0217             
0218         <span class="keyword">end</span> <span class="comment">% obtenerAngulo function</span>
0219         
0220         <a name="_sub8" href="#_subfunctions" class="code">function k_global = obtenerMatrizRigidezCoordGlobal(vigaColumna2DObj)</a>
0221             <span class="comment">% obtenerMatrizRigidezCoordGlobal: Retorna la matriz de rigidez</span>
0222             <span class="comment">% en coordenadas globales</span>
0223             <span class="comment">%</span>
0224             <span class="comment">% k_global = obtenerMatrizRigidezCoordGlobal(vigaColumna2DObj)</span>
0225             
0226             <span class="comment">% Multiplica por la matriz de transformacion</span>
0227             k_local = vigaColumna2DObj.obtenerMatrizRigidezCoordLocal();
0228             t_theta = vigaColumna2DObj.T;
0229             k_global = t_theta' * k_local * t_theta;
0230             
0231         <span class="keyword">end</span> <span class="comment">% obtenerMatrizRigidezCoordGlobal function</span>
0232         
0233         <a name="_sub9" href="#_subfunctions" class="code">function k_local = obtenerMatrizRigidezCoordLocal(vigaColumna2DObj)</a>
0234             <span class="comment">% obtenerMatrizRigidezCoordLocal: Retorna la matriz de rigidez</span>
0235             <span class="comment">% en coordenadas locales</span>
0236             <span class="comment">%</span>
0237             <span class="comment">% k_local = obtenerMatrizRigidezCoordLocal(vigaColumna2DObj)</span>
0238             
0239             k_local = vigaColumna2DObj.Klp;
0240             
0241         <span class="keyword">end</span> <span class="comment">% obtenerMatrizRigidezCoordLocal function</span>
0242         
0243         <a name="_sub10" href="#_subfunctions" class="code">function m = obtenerMasa(vigaColumna2DObj)</a>
0244             <span class="comment">% obtenerMasa: Retorna la masa total del elemento</span>
0245             <span class="comment">%</span>
0246             <span class="comment">% m = obtenerMasa(vigaColumna2DObj)</span>
0247             
0248             m = vigaColumna2DObj.rho * vigaColumna2DObj.L * vigaColumna2DObj.Ao;
0249             
0250         <span class="keyword">end</span> <span class="comment">% obtenerMasa function</span>
0251         
0252         <a name="_sub11" href="#_subfunctions" class="code">function m_masa = obtenerVectorMasa(vigaColumna2DObj)</a>
0253             <span class="comment">% obtenerVectorMasa: Obtiene el vector de masa del elemento</span>
0254             <span class="comment">%</span>
0255             <span class="comment">% m_masa = obtenerVectorMasa(vigaColumna2DObj)</span>
0256             
0257             m_masa = zeros(6, 1);
0258             m = vigaColumna2DObj.obtenerMasa();
0259             m_masa(1) = m * 0.5;
0260             m_masa(2) = m * 0.5;
0261             m_masa(3) = 1e-6;
0262             m_masa(4) = m * 0.5;
0263             m_masa(5) = m * 0.5;
0264             m_masa(6) = 1e-6;
0265             
0266         <span class="keyword">end</span> <span class="comment">% obtenerMatrizMasa function</span>
0267         
0268         <a name="_sub12" href="#_subfunctions" class="code">function fr_global = obtenerFuerzaResistenteCoordGlobal(vigaColumna2DObj)</a>
0269             <span class="comment">% obtenerFuerzaResistenteCoordGlobal: Retorna la fuerza</span>
0270             <span class="comment">% resistente en coordenadas globales</span>
0271             <span class="comment">%</span>
0272             <span class="comment">% fr_global = obtenerFuerzaResistenteCoordGlobal(vigaColumna2DObj)</span>
0273             
0274             <span class="comment">% Obtiene fr local</span>
0275             fr_local = vigaColumna2DObj.obtenerFuerzaResistenteCoordLocal();
0276             
0277             <span class="comment">% Resta a fuerza equivalente para obtener la fuerza global</span>
0278             fr_global = vigaColumna2DObj.T' * (fr_local - vigaColumna2DObj.Feq);
0279             
0280         <span class="keyword">end</span> <span class="comment">% obtenerFuerzaResistenteCoordGlobal function</span>
0281         
0282         <a name="_sub13" href="#_subfunctions" class="code">function fr_local = obtenerFuerzaResistenteCoordLocal(vigaColumna2DObj)</a>
0283             <span class="comment">% obtenerFuerzaResistenteCoordLocal: Retorna la fuerza</span>
0284             <span class="comment">% resistente en coordenadas locales</span>
0285             <span class="comment">%</span>
0286             <span class="comment">% fr_local = obtenerFuerzaResistenteCoordLocal(vigaColumna2DObj)</span>
0287             
0288             <span class="comment">% Obtiene los nodos</span>
0289             nodo1 = vigaColumna2DObj.nodosObj{1};
0290             nodo2 = vigaColumna2DObj.nodosObj{2};
0291             
0292             <span class="comment">% Obtiene los desplazamientos</span>
0293             u1 = nodo1.obtenerDesplazamientos();
0294             u2 = nodo2.obtenerDesplazamientos();
0295             
0296             <span class="comment">% Vector desplazamientos u'</span>
0297             u = [u1(1), u1(2), u1(3), u2(1), u2(2), u2(3)]';
0298             
0299             <span class="comment">% Obtiene K local</span>
0300             k_local = vigaColumna2DObj.obtenerMatrizRigidezCoordLocal();
0301             
0302             <span class="comment">% Obtiene u''</span>
0303             u = vigaColumna2DObj.obtenerMatrizTransformacion() * u;
0304             
0305             <span class="comment">% Calcula F</span>
0306             fr_local = k_local * u;
0307             
0308         <span class="keyword">end</span> <span class="comment">% obtenerFuerzaResistenteCoordLocal function</span>
0309         
0310         <a name="_sub14" href="#_subfunctions" class="code">function definirGDLID(vigaColumna2DObj)</a>
0311             <span class="comment">% definirGDLID: Define los ID de los grados de libertad de la</span>
0312             <span class="comment">% viga columna</span>
0313             <span class="comment">%</span>
0314             <span class="comment">% definirGDLID(vigaColumna2DObj)</span>
0315             
0316             <span class="comment">% Se obtienen los nodos extremos</span>
0317             nodo1 = vigaColumna2DObj.nodosObj{1};
0318             nodo2 = vigaColumna2DObj.nodosObj{2};
0319             
0320             <span class="comment">% Se obtienen los gdl de los nodos</span>
0321             gdlnodo1 = nodo1.obtenerGDLID();
0322             gdlnodo2 = nodo2.obtenerGDLID();
0323             
0324             <span class="comment">% Se establecen gdl</span>
0325             gdl = [0, 0, 0, 0, 0, 0];
0326             gdl(1) = gdlnodo1(1);
0327             gdl(2) = gdlnodo1(2);
0328             gdl(3) = gdlnodo1(3);
0329             gdl(4) = gdlnodo2(1);
0330             gdl(5) = gdlnodo2(2);
0331             gdl(6) = gdlnodo2(3);
0332             vigaColumna2DObj.gdlID = gdl;
0333             
0334         <span class="keyword">end</span> <span class="comment">% definirGDLID function</span>
0335         
0336         <a name="_sub15" href="#_subfunctions" class="code">function sumarFuerzaEquivalente(vigaColumna2DObj, f)</a>
0337             <span class="comment">% sumarFuerzaEquivalente: Suma fuerza equivalente a vigas</span>
0338             <span class="comment">%</span>
0339             <span class="comment">% sumarFuerzaEquivalente(vigaColumna2DObj,f)</span>
0340             
0341             <span class="keyword">for</span> i = 1:length(f)
0342                 vigaColumna2DObj.Feq(i) = vigaColumna2DObj.Feq(i) + f(i);
0343             <span class="keyword">end</span> <span class="comment">% for i</span>
0344             
0345         <span class="keyword">end</span> <span class="comment">% sumarFuerzaEquivalente function</span>
0346         
0347         <a name="_sub16" href="#_subfunctions" class="code">function f = obtenerFuerzaEquivalente(vigaColumna2DObj)</a>
0348             <span class="comment">% obtenerFuerzaEquivalente: Obtiene la fuerza equivalente de la</span>
0349             <span class="comment">% viga columna</span>
0350             <span class="comment">%</span>
0351             <span class="comment">% f = obtenerFuerzaEquivalente(vigaColumna2DObj)</span>
0352             
0353             f = vigaColumna2DObj.Feq;
0354             
0355         <span class="keyword">end</span> <span class="comment">% obtenerFuerzaEquivalente function</span>
0356         
0357         <a name="_sub17" href="#_subfunctions" class="code">function agregarFuerzaResistenteAReacciones(vigaColumna2DObj)</a>
0358             <span class="comment">% agregarFuerzaResistenteAReacciones: Agrega fuerza resistente</span>
0359             <span class="comment">% de la viga a las reacciones</span>
0360             <span class="comment">%</span>
0361             <span class="comment">% agregarFuerzaResistenteAReacciones(vigaColumna2DObj)</span>
0362             
0363             <span class="comment">% Se calcula la fuerza resistente global</span>
0364             fr_global = vigaColumna2DObj.obtenerFuerzaResistenteCoordGlobal();
0365             
0366             <span class="comment">% Carga los nodos</span>
0367             nodo1 = vigaColumna2DObj.nodosObj{1};
0368             nodo2 = vigaColumna2DObj.nodosObj{2};
0369             
0370             <span class="comment">% Transforma la carga equivalente como carga puntual</span>
0371             F_eq = vigaColumna2DObj.T' * vigaColumna2DObj.Feq;
0372             
0373             <span class="comment">% Agrega fuerzas equivalentes como cargas</span>
0374             nodo1.agregarCarga([-F_eq(1), -F_eq(2), -F_eq(3)]')
0375             nodo2.agregarCarga([-F_eq(4), -F_eq(5), -F_eq(6)]')
0376             
0377             <span class="comment">% Agrega fuerzas resistentes como cargas</span>
0378             nodo1.agregarEsfuerzosElementoAReaccion([fr_global(1), fr_global(2), fr_global(3)]');
0379             nodo2.agregarEsfuerzosElementoAReaccion([fr_global(4), fr_global(5), fr_global(6)]');
0380             
0381         <span class="keyword">end</span> <span class="comment">% agregarFuerzaResistenteAReacciones function</span>
0382         
0383         <a name="_sub18" href="#_subfunctions" class="code">function guardarPropiedades(vigaColumna2DObj, archivoSalidaHandle)</a>
0384             <span class="comment">% guardarPropiedades: Guarda las propiedades del elemento en un</span>
0385             <span class="comment">% archivo</span>
0386             <span class="comment">%</span>
0387             <span class="comment">% guardarPropiedades(vigaColumna2DObj,archivoSalidaHandle)</span>
0388             
0389             fprintf(archivoSalidaHandle, <span class="string">'\tViga-Columna 2D %s:\n\t\tLargo:\t\t%s\n\t\tInercia:\t%s\n\t\tEo:\t\t\t%s\n\t\tEI:\t\t\t%s\n\t\tMasa:\t\t%s\n'</span>, <span class="keyword">...</span>
0390                 vigaColumna2DObj.obtenerEtiqueta(), num2str(vigaColumna2DObj.L), <span class="keyword">...</span>
0391                 num2str(vigaColumna2DObj.Io), num2str(vigaColumna2DObj.Eo), <span class="keyword">...</span>
0392                 num2str(vigaColumna2DObj.Eo*vigaColumna2DObj.Io), <span class="keyword">...</span>
0393                 num2str(vigaColumna2DObj.obtenerMasa()));
0394             
0395         <span class="keyword">end</span> <span class="comment">% guardarPropiedades function</span>
0396         
0397         <a name="_sub19" href="#_subfunctions" class="code">function guardarEsfuerzosInternos(vigaColumna2DObj, archivoSalidaHandle)</a>
0398             <span class="comment">% guardarEsfuerzosInternos: Guarda los esfuerzos internos del</span>
0399             <span class="comment">% elemento</span>
0400             <span class="comment">%</span>
0401             <span class="comment">% guardarEsfuerzosInternos(vigaColumna2DObj,archivoSalidaHandle)</span>
0402             
0403             fr = vigaColumna2DObj.obtenerFuerzaResistenteCoordGlobal();
0404             n1 = pad(num2str(fr(1), <span class="string">'%.04f'</span>), 10);
0405             n2 = pad(num2str(fr(4), <span class="string">'%.04f'</span>), 10);
0406             v1 = pad(num2str(fr(2), <span class="string">'%.04f'</span>), 10);
0407             v2 = pad(num2str(fr(5), <span class="string">'%.04f'</span>), 10);
0408             m1 = pad(num2str(fr(3), <span class="string">'%.04f'</span>), 10);
0409             m2 = pad(num2str(fr(6), <span class="string">'%.04f'</span>), 10);
0410             
0411             fprintf(archivoSalidaHandle, <span class="string">'\n\tViga-Columna 2D %s:\n\t\tAxial:\t\t%s %s\n\t\tCorte:\t\t%s %s\n\t\tMomento:\t%s %s'</span>, <span class="keyword">...</span>
0412                 vigaColumna2DObj.obtenerEtiqueta(), n1, n2, v1, v2, m1, m2);
0413             
0414         <span class="keyword">end</span> <span class="comment">% guardarEsfuerzosInternos function</span>
0415         
0416         <a name="_sub20" href="#_subfunctions" class="code">function N = obtenerVectorN(elementoObj, x, l) </a><span class="comment">%#ok&lt;INUSL&gt;</span>
0417             <span class="comment">% obtenerVectorN: Obtiene el vector de transformada N a partir</span>
0418             <span class="comment">% de x como porcentaje del largo</span>
0419             <span class="comment">%</span>
0420             <span class="comment">% N = obtenerVectorN(elementoObj,x,l)</span>
0421             
0422             x = x * l;
0423             N = zeros(4, 1);
0424             N(1) = 1 - 3 * (x / l)^2 + 2 * (x / l)^3;
0425             N(2) = x * (1 - x / l)^2;
0426             N(3) = 3 * (x / l)^2 - 2 * (x / l)^3;
0427             N(4) = (x^2 / l) * (x / l - 1);
0428             
0429         <span class="keyword">end</span> <span class="comment">% obtenerVectorN function</span>
0430         
0431         <a name="_sub21" href="#_subfunctions" class="code">function y = plotVigaDeformar(elementoObj, deformadas) </a><span class="comment">%#ok&lt;INUSL&gt;</span>
0432             <span class="comment">% plotVigaDeformar: Evalua si se grafica una viga con</span>
0433             <span class="comment">% deformacion</span>
0434             <span class="comment">%</span>
0435             <span class="comment">% plotVigaDeformar(elementoObj,deformadas)</span>
0436             
0437             y = length(deformadas{1}) == 3;
0438             
0439         <span class="keyword">end</span> <span class="comment">% plotVigaDeformar function</span>
0440         
0441         <a name="_sub22" href="#_subfunctions" class="code">function plot(elementoObj, deformadas, tipoLinea, grosorLinea, defElem)</a>
0442             <span class="comment">% plot: Grafica un elemento</span>
0443             <span class="comment">%</span>
0444             <span class="comment">% plot(elementoObj,deformadas,tipoLinea,grosorLinea,defElem)</span>
0445             
0446             <span class="comment">% Obtiene las coordenadas de los objetos</span>
0447             coord1 = elementoObj.nodosObj{1}.obtenerCoordenadas();
0448             coord2 = elementoObj.nodosObj{2}.obtenerCoordenadas();
0449             
0450             <span class="comment">% Si hay deformacion</span>
0451             <span class="keyword">if</span> ~isempty(deformadas)
0452                 coord1 = coord1 + deformadas{1}(1:2);
0453                 coord2 = coord2 + deformadas{2}(1:2);
0454                 <span class="keyword">if</span> defElem &amp;&amp; elementoObj.plotVigaDeformar(deformadas) &amp;&amp; elementoObj.graficaDeformada
0455                     ndx = abs(coord2(1)-coord1(1));
0456                     ndy = abs(coord2(2)-coord1(2));
0457                     nl = sqrt(ndx^2+ndy^2);
0458                     tht = elementoObj.theta;
0459                     coordx = [coord1(1), deformadas{1}(3), coord2(1), deformadas{2}(3)];
0460                     coordy = [coord1(2), deformadas{1}(3), coord2(2), deformadas{2}(3)];
0461                     coordi = coord1;
0462                     <span class="keyword">for</span> i = 1:elementoObj.PLOTNELEM
0463                         p = i / elementoObj.PLOTNELEM;
0464                         n = elementoObj.obtenerVectorN(p, nl);
0465                         coordf = [(coord1(1) + ndx * p) * cos(tht) + (coordx * n) * sin(tht), <span class="keyword">...</span>
0466                             (coordy * n) * cos(tht) + (coord1(2) + ndy * p) * sin(tht)];
0467                         elementoObj.graficarLinea(coordi, coordf, tipoLinea, grosorLinea);
0468                         coordi = coordf;
0469                     <span class="keyword">end</span>
0470                     <span class="keyword">return</span>;
0471                 <span class="keyword">end</span>
0472             <span class="keyword">end</span>
0473             
0474             <span class="comment">% Grafica en forma lineal</span>
0475             elementoObj.graficarLinea(coord1, coord2, tipoLinea, grosorLinea);
0476             
0477         <span class="keyword">end</span> <span class="comment">% plot function</span>
0478         
0479         <a name="_sub23" href="#_subfunctions" class="code">function disp(vigaColumna2DObj)</a>
0480             <span class="comment">% disp: Imprime propiedades en pantalla del objeto</span>
0481             <span class="comment">%</span>
0482             <span class="comment">% disp(vigaColumna2DObj)</span>
0483             
0484             <span class="comment">% Imprime propiedades de la Viga-Columna-2D</span>
0485             fprintf(<span class="string">'Propiedades viga columna 2D:\n'</span>);
0486             <a href="#_sub24" class="code" title="subfunction disp(vigaColumna2DObj)">disp</a>@<a href="../../../tefame/modelo/base/ComponenteModelo.html" class="code" title="">ComponenteModelo</a>(vigaColumna2DObj);
0487             fprintf(<span class="string">'\tLargo: %s\n\tArea: %s\n\tI: %s\n\tE: %s\n\tMasa: %s\n'</span>, pad(num2str(vigaColumna2DObj.L), 12), <span class="keyword">...</span>
0488                 pad(num2str(vigaColumna2DObj.Ao), 10), pad(num2str(vigaColumna2DObj.Io), 10), <span class="keyword">...</span>
0489                 pad(num2str(vigaColumna2DObj.Eo), 10), pad(num2str(vigaColumna2DObj.obtenerMasa()), 10));
0490             
0491             <span class="comment">% Se imprime matriz de rigidez local</span>
0492             fprintf(<span class="string">'\tMatriz de rigidez coordenadas locales:\n'</span>);
0493             <a href="#_sub24" class="code" title="subfunction disp(vigaColumna2DObj)">disp</a>(vigaColumna2DObj.obtenerMatrizRigidezCoordLocal());
0494             
0495             <span class="comment">% Se imprime matriz de rigidez global</span>
0496             fprintf(<span class="string">'\tMatriz de rigidez coordenadas globales:\n'</span>);
0497             <a href="#_sub24" class="code" title="subfunction disp(vigaColumna2DObj)">disp</a>(vigaColumna2DObj.obtenerMatrizRigidezCoordGlobal());
0498             
0499             <span class="comment">% Imprime vector de masa</span>
0500             fprintf(<span class="string">'\tVector de masa:\n'</span>);
0501             <a href="#_sub24" class="code" title="subfunction disp(vigaColumna2DObj)">disp</a>(vigaColumna2DObj.obtenerVectorMasa());
0502             
0503             <a href="../../../tefame/utils/dispMetodoTEFAME.html" class="code" title="function dispMetodoTEFAME()">dispMetodoTEFAME</a>();
0504             
0505         <span class="keyword">end</span> <span class="comment">% disp function</span>
0506         
0507     <span class="keyword">end</span> <span class="comment">% methods VigaColumna2D</span>
0508     
0509 <span class="keyword">end</span> <span class="comment">% class VigaColumna2D</span></pre></div>
<hr><address>Generated on Wed 15-May-2019 23:09:04 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>