<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of Viga2D</title>
  <meta name="keywords" content="Viga2D">
  <meta name="description" content="______________________________________________________________________">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- # tefame --><!-- # modelo --><!-- menu.html elementos -->
<h1>Viga2D
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>______________________________________________________________________</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> ______________________________________________________________________
|                                                                      |
|           TEFAME - Toolbox para Elemento Finitos y Analisis          |
|                  Matricial de Estructuras en MATLAB                  |
|                                                                      |
|                   Area  de Estructuras y Geotecnia                   |
|                   Departamento de Ingenieria Civil                   |
|              Facultad de Ciencias Fisicas y Matematicas              |
|                         Universidad de Chile                         |
|                                                                      |
| TEFAME es una  plataforma en base a objetos para modelar, analizar y |
| visualizar  la respuesta de sistemas  estructurales usando el metodo |
| de elementos finitos y analisis matricial de estructuras en MATLAB.  |
| La plataforma es desarrollada en  propagacion orientada a objetos en |
| MATLAB.                                                              |
|______________________________________________________________________|
 ______________________________________________________________________
|                                                                      |
| Clase Viga2D                                                         |
|                                                                      |
| Este archivo contiene la definicion de la Clase Viga 2D              |
| Viga2D  es una  subclase de la  clase Elemento y  corresponde a  la  |
| representacion del elemento viga que solo transmite esfuerzo de      |
| corte.                                                               |
|                                                                      |
| Programado: Pablo Pizarro @ppizarror.com                             |
| Fecha: 14/05/2018                                                    |
|______________________________________________________________________|

  Properties (Access=private):
       nodosObj
       gdlID
       Io
       Eo
       dx
       dy
       L
       theta
       Feq
       PLOTNELEM
       rho
  Methods:
       viga2DObj = Viga2D(etiquetaViga,nodo1Obj,nodo2Obj,Imaterial,Ematerial,densidad)
       numeroNodos = obtenerNumeroNodos(viga2DObj)
       nodosBiela = obtenerNodos(viga2DObj)
       numeroGDL = obtenerNumeroGDL(viga2DObj)
       gdlIDViga = obtenerGDLID(viga2DObj)
       k_global = obtenerMatrizRigidezCoordGlobal(viga2DObj)
       k_local = obtenerMatrizRigidezCoordLocal(viga2DObj)
       fr_global = obtenerFuerzaResistenteCoordGlobal(viga2DObj)
       fr_local = obtenerFuerzaResistenteCoordLocal(viga2DObj)
       l = obtenerLargo(viga2DObj)
       definirGDLID(viga2DObj)
       agregarFuerzaResistenteAReacciones(viga2DObj)
       guardarPropiedades(viga2DObj,archivoSalidaHandle)
       guardarEsfuerzosInternos(viga2DObj,archivoSalidaHandle)
       disp(viga2DObj)
  Methods SuperClass (ComponenteModelo):
       etiqueta = obtenerEtiqueta(componenteModeloObj)
       e = equals(componenteModeloObj,obj)
       objID = obtenerIDObjeto(componenteModeloObj)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../tefame/modelo/base/ComponenteModelo.html" class="code" title="">ComponenteModelo</a>	______________________________________________________________________</li><li><a href="Elemento.html" class="code" title="">Elemento</a>	______________________________________________________________________</li><li><a href="Viga2D.html" class="code" title="">Viga2D</a>	______________________________________________________________________</li><li><a href="../../../tefame/utils/dispMetodoTEFAME.html" class="code" title="function dispMetodoTEFAME()">dispMetodoTEFAME</a>	dispMetodoTEFAME: Normaliza la salida estandar disp en consola de los</li></ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="Viga2D.html" class="code" title="">Viga2D</a>	______________________________________________________________________</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function viga2DObj = Viga2D(etiquetaViga, nodo1Obj, nodo2Obj, Imaterial, Ematerial, densidad)</a></li><li><a href="#_sub2" class="code">function l = obtenerLargo(viga2DObj)</a></li><li><a href="#_sub3" class="code">function numeroNodos = obtenerNumeroNodos(viga2DObj)</a></li><li><a href="#_sub4" class="code">function nodosViga = obtenerNodos(viga2DObj)</a></li><li><a href="#_sub5" class="code">function numeroGDL = obtenerNumeroGDL(viga2DObj)</a></li><li><a href="#_sub6" class="code">function gdlIDViga = obtenerGDLID(viga2DObj)</a></li><li><a href="#_sub7" class="code">function m = obtenerMasa(viga2DObj)</a></li><li><a href="#_sub8" class="code">function m_masa = obtenerVectorMasa(viga2DObj)</a></li><li><a href="#_sub9" class="code">function k_global = obtenerMatrizRigidezCoordGlobal(viga2DObj)</a></li><li><a href="#_sub10" class="code">function k_local = obtenerMatrizRigidezCoordLocal(viga2DObj)</a></li><li><a href="#_sub11" class="code">function fr_global = obtenerFuerzaResistenteCoordGlobal(viga2DObj)</a></li><li><a href="#_sub12" class="code">function fr_local = obtenerFuerzaResistenteCoordLocal(viga2DObj)</a></li><li><a href="#_sub13" class="code">function definirGDLID(viga2DObj)</a></li><li><a href="#_sub14" class="code">function sumarFuerzaEquivalente(viga2DObj, f)</a></li><li><a href="#_sub15" class="code">function agregarFuerzaResistenteAReacciones(viga2DObj)</a></li><li><a href="#_sub16" class="code">function guardarPropiedades(viga2DObj, archivoSalidaHandle)</a></li><li><a href="#_sub17" class="code">function guardarEsfuerzosInternos(viga2DObj, archivoSalidaHandle)</a></li><li><a href="#_sub18" class="code">function N = obtenerVectorN(elementoObj, x, l)</a></li><li><a href="#_sub19" class="code">function plot(elementoObj, deformadas, tipoLinea, grosorLinea, defElem)</a></li><li><a href="#_sub20" class="code">function disp(viga2DObj)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% ______________________________________________________________________</span>
0002 <span class="comment">%|                                                                      |</span>
0003 <span class="comment">%|           TEFAME - Toolbox para Elemento Finitos y Analisis          |</span>
0004 <span class="comment">%|                  Matricial de Estructuras en MATLAB                  |</span>
0005 <span class="comment">%|                                                                      |</span>
0006 <span class="comment">%|                   Area  de Estructuras y Geotecnia                   |</span>
0007 <span class="comment">%|                   Departamento de Ingenieria Civil                   |</span>
0008 <span class="comment">%|              Facultad de Ciencias Fisicas y Matematicas              |</span>
0009 <span class="comment">%|                         Universidad de Chile                         |</span>
0010 <span class="comment">%|                                                                      |</span>
0011 <span class="comment">%| TEFAME es una  plataforma en base a objetos para modelar, analizar y |</span>
0012 <span class="comment">%| visualizar  la respuesta de sistemas  estructurales usando el metodo |</span>
0013 <span class="comment">%| de elementos finitos y analisis matricial de estructuras en MATLAB.  |</span>
0014 <span class="comment">%| La plataforma es desarrollada en  propagacion orientada a objetos en |</span>
0015 <span class="comment">%| MATLAB.                                                              |</span>
0016 <span class="comment">%|______________________________________________________________________|</span>
0017 <span class="comment">% ______________________________________________________________________</span>
0018 <span class="comment">%|                                                                      |</span>
0019 <span class="comment">%| Clase Viga2D                                                         |</span>
0020 <span class="comment">%|                                                                      |</span>
0021 <span class="comment">%| Este archivo contiene la definicion de la Clase Viga 2D              |</span>
0022 <span class="comment">%| Viga2D  es una  subclase de la  clase Elemento y  corresponde a  la  |</span>
0023 <span class="comment">%| representacion del elemento viga que solo transmite esfuerzo de      |</span>
0024 <span class="comment">%| corte.                                                               |</span>
0025 <span class="comment">%|                                                                      |</span>
0026 <span class="comment">%| Programado: Pablo Pizarro @ppizarror.com                             |</span>
0027 <span class="comment">%| Fecha: 14/05/2018                                                    |</span>
0028 <span class="comment">%|______________________________________________________________________|</span>
0029 <span class="comment">%</span>
0030 <span class="comment">%  Properties (Access=private):</span>
0031 <span class="comment">%       nodosObj</span>
0032 <span class="comment">%       gdlID</span>
0033 <span class="comment">%       Io</span>
0034 <span class="comment">%       Eo</span>
0035 <span class="comment">%       dx</span>
0036 <span class="comment">%       dy</span>
0037 <span class="comment">%       L</span>
0038 <span class="comment">%       theta</span>
0039 <span class="comment">%       Feq</span>
0040 <span class="comment">%       PLOTNELEM</span>
0041 <span class="comment">%       rho</span>
0042 <span class="comment">%  Methods:</span>
0043 <span class="comment">%       viga2DObj = Viga2D(etiquetaViga,nodo1Obj,nodo2Obj,Imaterial,Ematerial,densidad)</span>
0044 <span class="comment">%       numeroNodos = obtenerNumeroNodos(viga2DObj)</span>
0045 <span class="comment">%       nodosBiela = obtenerNodos(viga2DObj)</span>
0046 <span class="comment">%       numeroGDL = obtenerNumeroGDL(viga2DObj)</span>
0047 <span class="comment">%       gdlIDViga = obtenerGDLID(viga2DObj)</span>
0048 <span class="comment">%       k_global = obtenerMatrizRigidezCoordGlobal(viga2DObj)</span>
0049 <span class="comment">%       k_local = obtenerMatrizRigidezCoordLocal(viga2DObj)</span>
0050 <span class="comment">%       fr_global = obtenerFuerzaResistenteCoordGlobal(viga2DObj)</span>
0051 <span class="comment">%       fr_local = obtenerFuerzaResistenteCoordLocal(viga2DObj)</span>
0052 <span class="comment">%       l = obtenerLargo(viga2DObj)</span>
0053 <span class="comment">%       definirGDLID(viga2DObj)</span>
0054 <span class="comment">%       agregarFuerzaResistenteAReacciones(viga2DObj)</span>
0055 <span class="comment">%       guardarPropiedades(viga2DObj,archivoSalidaHandle)</span>
0056 <span class="comment">%       guardarEsfuerzosInternos(viga2DObj,archivoSalidaHandle)</span>
0057 <span class="comment">%       disp(viga2DObj)</span>
0058 <span class="comment">%  Methods SuperClass (ComponenteModelo):</span>
0059 <span class="comment">%       etiqueta = obtenerEtiqueta(componenteModeloObj)</span>
0060 <span class="comment">%       e = equals(componenteModeloObj,obj)</span>
0061 <span class="comment">%       objID = obtenerIDObjeto(componenteModeloObj)</span>
0062 
0063 classdef <a href="Viga2D.html" class="code" title="">Viga2D</a> &lt; <a href="Elemento.html" class="code" title="">Elemento</a>
0064     
0065     properties(Access = private)
0066         nodosObj <span class="comment">% Cell con los nodos</span>
0067         gdlID <span class="comment">% Lista con los ID de los grados de libertad</span>
0068         Eo <span class="comment">% Modulo de elasticidad</span>
0069         Io <span class="comment">% Inercia de la seccion</span>
0070         dx <span class="comment">% Distancia en el eje x entre los nodos</span>
0071         dy <span class="comment">% Distancia en el eje y entre los nodos</span>
0072         L <span class="comment">% Largo del elemento</span>
0073         theta <span class="comment">% Angulo de inclinacion de la viga</span>
0074         Feq <span class="comment">% Fuerza equivalente</span>
0075         PLOTNELEM <span class="comment">% Numero de elementos en los que se discretiza para el grafico</span>
0076         rho <span class="comment">% Densidad de la viga</span>
0077     <span class="keyword">end</span> <span class="comment">% properties Viga2D</span>
0078     
0079     methods
0080         
0081         <a name="_sub0" href="#_subfunctions" class="code">function viga2DObj = Viga2D(etiquetaViga, nodo1Obj, nodo2Obj, Imaterial, Ematerial, densidad)</a>
0082             
0083             <span class="comment">% Si no se pasan argumentos se crean vacios</span>
0084             <span class="keyword">if</span> nargin == 0
0085                 etiquetaViga = <span class="string">''</span>;
0086             <span class="keyword">end</span> <span class="comment">% if</span>
0087             <span class="keyword">if</span> ~exist(<span class="string">'densidad'</span>, <span class="string">'var'</span>)
0088                 densidad = 0;
0089             <span class="keyword">end</span>
0090             
0091             <span class="comment">% Llamamos al constructor de la SuperClass que es la clase Elemento</span>
0092             viga2DObj = viga2DObj@<a href="Elemento.html" class="code" title="">Elemento</a>(etiquetaViga);
0093             
0094             <span class="comment">% Guarda material</span>
0095             viga2DObj.nodosObj = {nodo1Obj; nodo2Obj};
0096             viga2DObj.Eo = Ematerial;
0097             viga2DObj.Io = Imaterial;
0098             viga2DObj.gdlID = [];
0099             viga2DObj.rho = densidad;
0100             
0101             <span class="comment">% Calcula componentes geometricas</span>
0102             coordNodo1 = nodo1Obj.obtenerCoordenadas();
0103             coordNodo2 = nodo2Obj.obtenerCoordenadas();
0104             viga2DObj.dx = abs(coordNodo2(1)-coordNodo1(1));
0105             viga2DObj.dy = abs(coordNodo2(2)-coordNodo1(2));
0106             viga2DObj.L = sqrt(viga2DObj.dx^2+viga2DObj.dy^2);
0107             viga2DObj.theta = atan(viga2DObj.dy/viga2DObj.dx);
0108             
0109             <span class="comment">% Fuerza equivalente de la viga</span>
0110             viga2DObj.Feq = [0, 0, 0, 0]';
0111             
0112             <span class="comment">% Otros</span>
0113             viga2DObj.PLOTNELEM = 10;
0114             
0115         <span class="keyword">end</span> <span class="comment">% Viga2D constructor</span>
0116         
0117         <a name="_sub1" href="#_subfunctions" class="code">function l = obtenerLargo(viga2DObj)</a>
0118             
0119             l = viga2DObj.L;
0120             
0121         <span class="keyword">end</span> <span class="comment">% obtenerLargo function</span>
0122         
0123         <a name="_sub2" href="#_subfunctions" class="code">function numeroNodos = obtenerNumeroNodos(viga2DObj) </a><span class="comment">%#ok&lt;MANU&gt;</span>
0124             
0125             numeroNodos = 2;
0126             
0127         <span class="keyword">end</span> <span class="comment">% obtenerNumeroNodos function</span>
0128         
0129         <a name="_sub3" href="#_subfunctions" class="code">function nodosViga = obtenerNodos(viga2DObj)</a>
0130             
0131             nodosViga = viga2DObj.nodosObj;
0132             
0133         <span class="keyword">end</span> <span class="comment">% obtenerNodos function</span>
0134         
0135         <a name="_sub4" href="#_subfunctions" class="code">function numeroGDL = obtenerNumeroGDL(viga2DObj) </a><span class="comment">%#ok&lt;MANU&gt;</span>
0136             
0137             numeroGDL = 4;
0138             
0139         <span class="keyword">end</span> <span class="comment">% obtenerNumeroGDL function</span>
0140         
0141         <a name="_sub5" href="#_subfunctions" class="code">function gdlIDViga = obtenerGDLID(viga2DObj)</a>
0142             
0143             gdlIDViga = viga2DObj.gdlID;
0144             
0145         <span class="keyword">end</span> <span class="comment">% obtenerGDLID function</span>
0146         
0147         <a name="_sub6" href="#_subfunctions" class="code">function m = obtenerMasa(viga2DObj)</a>
0148             <span class="comment">% obtenerMasa: Retorna la masa total del elemento</span>
0149             <span class="comment">%</span>
0150             <span class="comment">% m = obtenerMasa(viga2DObj)</span>
0151             
0152             m = viga2DObj.rho * viga2DObj.L;
0153             
0154         <span class="keyword">end</span> <span class="comment">% obtenerMasa function</span>
0155         
0156         <a name="_sub7" href="#_subfunctions" class="code">function m_masa = obtenerVectorMasa(viga2DObj)</a>
0157             <span class="comment">% obtenerVectorMasa: Obtiene el vector de masa del elemento</span>
0158             <span class="comment">%</span>
0159             <span class="comment">% m_masa = obtenerVectorMasa(viga2DObj)</span>
0160             
0161             m_masa = zeros(4, 1);
0162             m = viga2DObj.obtenerMasa();
0163             m_masa(1) = m * 0.5;
0164             m_masa(2) = m * 0.5;
0165             m_masa(3) = m * 0.5;
0166             m_masa(4) = m * 0.5;
0167             
0168         <span class="keyword">end</span> <span class="comment">% obtenerMatrizMasa function</span>
0169         
0170         <a name="_sub8" href="#_subfunctions" class="code">function k_global = obtenerMatrizRigidezCoordGlobal(viga2DObj)</a>
0171             
0172             <span class="comment">% Matriz global igual a la local</span>
0173             k_global = viga2DObj.obtenerMatrizRigidezCoordLocal();
0174             
0175         <span class="keyword">end</span> <span class="comment">% obtenerMatrizRigidezGlobal function</span>
0176         
0177         <a name="_sub9" href="#_subfunctions" class="code">function k_local = obtenerMatrizRigidezCoordLocal(viga2DObj)</a>
0178             
0179             <span class="comment">% Genera la matriz de rigidez local</span>
0180             L1 = viga2DObj.L;
0181             L2 = L1.^2;
0182             k_local = [12, 6 * L1, -12, 6 * L1; <span class="keyword">...</span>
0183                 6 * L1, 4 * L2, -6 * L1, 2 * L2; <span class="keyword">...</span>
0184                 -12, -6 * L1, 12, -6 * L1; <span class="keyword">...</span>
0185                 6 * L1, 2 * L2, -6 * L1, 4 * L2];
0186             
0187             <span class="comment">% Multiplica por EoIo/L</span>
0188             k_local = k_local .* (viga2DObj.Eo * viga2DObj.Io / (viga2DObj.L^3));
0189             
0190         <span class="keyword">end</span> <span class="comment">% obtenerMatrizRigidezLocal function</span>
0191         
0192         <a name="_sub10" href="#_subfunctions" class="code">function fr_global = obtenerFuerzaResistenteCoordGlobal(viga2DObj)</a>
0193             
0194             <span class="comment">% Obtiene fr local</span>
0195             fr_local = viga2DObj.obtenerFuerzaResistenteCoordLocal();
0196             
0197             <span class="comment">% Resta a fuerza equivalente para obtener la fuerza global</span>
0198             fr_global = fr_local - viga2DObj.Feq;
0199             
0200         <span class="keyword">end</span> <span class="comment">% obtenerFuerzaResistenteCoordGlobal function</span>
0201         
0202         <a name="_sub11" href="#_subfunctions" class="code">function fr_local = obtenerFuerzaResistenteCoordLocal(viga2DObj)</a>
0203             
0204             <span class="comment">% Obtiene los nodos</span>
0205             nodo1 = viga2DObj.nodosObj{1};
0206             nodo2 = viga2DObj.nodosObj{2};
0207             
0208             <span class="comment">% Obtiene los desplazamientos</span>
0209             u1 = nodo1.obtenerDesplazamientos();
0210             u2 = nodo2.obtenerDesplazamientos();
0211             
0212             <span class="comment">% Vector desplazamientos u'</span>
0213             u = [u1(2), u1(3), u2(2), u2(3)]';
0214             
0215             <span class="comment">% Obtiene K local</span>
0216             k_local = viga2DObj.obtenerMatrizRigidezCoordLocal();
0217             
0218             <span class="comment">% Calcula F</span>
0219             fr_local = k_local * u;
0220             
0221         <span class="keyword">end</span> <span class="comment">% obtenerFuerzaResistenteCoordLocal function</span>
0222         
0223         <a name="_sub12" href="#_subfunctions" class="code">function definirGDLID(viga2DObj)</a>
0224             
0225             <span class="comment">% Se obtienen los nodos extremos</span>
0226             nodo1 = viga2DObj.nodosObj{1};
0227             nodo2 = viga2DObj.nodosObj{2};
0228             
0229             <span class="comment">% Se obtienen los gdl de los nodos</span>
0230             gdlnodo1 = nodo1.obtenerGDLID();
0231             gdlnodo2 = nodo2.obtenerGDLID();
0232             
0233             <span class="comment">% Se establecen gdl</span>
0234             gdl = [0, 0, 0, 0];
0235             gdl(1) = gdlnodo1(2);
0236             gdl(2) = gdlnodo1(3);
0237             gdl(3) = gdlnodo2(2);
0238             gdl(4) = gdlnodo2(3);
0239             viga2DObj.gdlID = gdl;
0240             
0241         <span class="keyword">end</span> <span class="comment">% definirGDLID function</span>
0242         
0243         <a name="_sub13" href="#_subfunctions" class="code">function sumarFuerzaEquivalente(viga2DObj, f)</a>
0244             
0245             <span class="keyword">for</span> i = 1:length(f)
0246                 viga2DObj.Feq(i) = viga2DObj.Feq(i) + f(i);
0247             <span class="keyword">end</span> <span class="comment">% for i</span>
0248             
0249         <span class="keyword">end</span> <span class="comment">% sumarFuerzaEquivalente function</span>
0250         
0251         <a name="_sub14" href="#_subfunctions" class="code">function agregarFuerzaResistenteAReacciones(viga2DObj)</a>
0252             
0253             <span class="comment">% Se calcula la fuerza resistente global</span>
0254             fr_global = viga2DObj.obtenerFuerzaResistenteCoordGlobal();
0255             
0256             <span class="comment">% Carga los nodos</span>
0257             nodo1 = viga2DObj.nodosObj{1};
0258             nodo2 = viga2DObj.nodosObj{2};
0259             
0260             <span class="comment">% Agrega fuerzas equivalentes como cargas</span>
0261             nodo1.agregarCarga([0, -viga2DObj.Feq(1), -viga2DObj.Feq(2)]');
0262             nodo2.agregarCarga([0, -viga2DObj.Feq(3), -viga2DObj.Feq(4)]');
0263             
0264             <span class="comment">% Agrega fuerzas resistentes como cargas</span>
0265             nodo1.agregarEsfuerzosElementoAReaccion([0, fr_global(1), fr_global(2)]');
0266             nodo2.agregarEsfuerzosElementoAReaccion([0, fr_global(3), fr_global(4)]');
0267             
0268         <span class="keyword">end</span> <span class="comment">% agregarFuerzaResistenteAReacciones function</span>
0269         
0270         <a name="_sub15" href="#_subfunctions" class="code">function guardarPropiedades(viga2DObj, archivoSalidaHandle)</a>
0271             
0272             fprintf(archivoSalidaHandle, <span class="string">'\tViga2D %s:\n\t\tLargo:\t\t%s\n\t\tInercia:\t%s\n\t\tEo:\t\t\t%s\n\t\tEI:\t\t\t%s\n\t\tMasa:\t\t%s\n'</span>, <span class="keyword">...</span>
0273                 viga2DObj.obtenerEtiqueta(), num2str(viga2DObj.L), <span class="keyword">...</span>
0274                 num2str(viga2DObj.Io), num2str(viga2DObj.Eo), <span class="keyword">...</span>
0275                 num2str(viga2DObj.Eo*viga2DObj.Io), num2str(viga2DObj.obtenerMasa()));
0276             
0277         <span class="keyword">end</span> <span class="comment">% guardarPropiedades function</span>
0278         
0279         <a name="_sub16" href="#_subfunctions" class="code">function guardarEsfuerzosInternos(viga2DObj, archivoSalidaHandle)</a>
0280             
0281             fr = viga2DObj.obtenerFuerzaResistenteCoordGlobal();
0282             m1 = pad(num2str(fr(2), <span class="string">'%.04f'</span>), 10);
0283             m2 = pad(num2str(fr(4), <span class="string">'%.04f'</span>), 10);
0284             v1 = pad(num2str(fr(1), <span class="string">'%.04f'</span>), 10);
0285             v2 = pad(num2str(fr(3), <span class="string">'%.04f'</span>), 10);
0286             
0287             fprintf(archivoSalidaHandle, <span class="string">'\n\tViga2D %s:\n\t\tMomento:\t%s %s\n\t\tCorte:\t\t%s %s'</span>, <span class="keyword">...</span>
0288                 viga2DObj.obtenerEtiqueta(), m1, m2, v1, v2);
0289             
0290         <span class="keyword">end</span> <span class="comment">% guardarEsfuerzosInternos function</span>
0291         
0292         <a name="_sub17" href="#_subfunctions" class="code">function N = obtenerVectorN(elementoObj, x, l) </a><span class="comment">%#ok&lt;INUSL&gt;</span>
0293             <span class="comment">% obtenerVectorN: Obtiene el vector de transformada N a partir</span>
0294             <span class="comment">% de x como porcentaje del largo</span>
0295             
0296             x = x * l;
0297             N = zeros(4, 1);
0298             N(1) = 1 - 3 * (x / l)^2 + 2 * (x / l)^3;
0299             N(2) = x * (1 - x / l)^2;
0300             N(3) = 3 * (x / l)^2 - 2 * (x / l)^3;
0301             N(4) = (x^2 / l) * (x / l - 1);
0302             
0303         <span class="keyword">end</span> <span class="comment">% obtenerVectorN function</span>
0304         
0305         <a name="_sub18" href="#_subfunctions" class="code">function plot(elementoObj, deformadas, tipoLinea, grosorLinea, defElem)</a>
0306             <span class="comment">% plot: Grafica un elemento</span>
0307             <span class="comment">%</span>
0308             <span class="comment">% plot(elementoObj,deformadas,tipoLinea,grosorLinea,defElem)</span>
0309             
0310             <span class="comment">% Obtiene las coordenadas de los objetos</span>
0311             coord1 = elementoObj.nodosObj{1}.obtenerCoordenadas();
0312             coord2 = elementoObj.nodosObj{2}.obtenerCoordenadas();
0313             
0314             <span class="comment">% Si hay deformacion</span>
0315             <span class="keyword">if</span> ~isempty(deformadas)
0316                 coord1 = coord1 + deformadas{1}(1:2);
0317                 coord2 = coord2 + deformadas{2}(1:2);
0318                 <span class="keyword">if</span> length(deformadas{1}) == 3 &amp;&amp; defElem &amp;&amp; elementoObj.graficaDeformada
0319                     ndx = abs(coord2(1)-coord1(1));
0320                     ndy = abs(coord2(2)-coord1(2));
0321                     nl = sqrt(ndx^2+ndy^2);
0322                     tht = elementoObj.theta;
0323                     coordx = [coord1(1), deformadas{1}(3), coord2(1), deformadas{2}(3)];
0324                     coordy = [coord1(2), deformadas{1}(3), coord2(2), deformadas{2}(3)];
0325                     coordi = coord1;
0326                     <span class="keyword">for</span> i = 1:elementoObj.PLOTNELEM
0327                         p = i / elementoObj.PLOTNELEM;
0328                         n = elementoObj.obtenerVectorN(p, nl);
0329                         coordf = [(coord1(1) + ndx * p) * cos(tht) + (coordx * n) * sin(tht), <span class="keyword">...</span>
0330                             (coordy * n) * cos(tht) + (coord1(2) + ndy * p) * sin(elementoObj.theta)];
0331                         elementoObj.graficarLinea(coordi, coordf, tipoLinea, grosorLinea);
0332                         coordi = coordf;
0333                     <span class="keyword">end</span> <span class="comment">% for i</span>
0334                     <span class="keyword">return</span>;
0335                 <span class="keyword">end</span>
0336             <span class="keyword">end</span>
0337             
0338             <span class="comment">% Grafica en forma lineal</span>
0339             elementoObj.graficarLinea(coord1, coord2, tipoLinea, grosorLinea);
0340             
0341         <span class="keyword">end</span> <span class="comment">% plot function</span>
0342         
0343         <a name="_sub19" href="#_subfunctions" class="code">function disp(viga2DObj)</a>
0344             
0345             <span class="comment">% Imprime propiedades de la viga 2D</span>
0346             fprintf(<span class="string">'Propiedades viga 2D:\n\t'</span>);
0347             <a href="#_sub20" class="code" title="subfunction disp(viga2DObj)">disp</a>@<a href="../../../tefame/modelo/base/ComponenteModelo.html" class="code" title="">ComponenteModelo</a>(viga2DObj);
0348             
0349             fprintf(<span class="string">'\t\tLargo: %s\tI: %s\tE: %s\n'</span>, pad(num2str(viga2DObj.L), 12), <span class="keyword">...</span>
0350                 pad(num2str(viga2DObj.Io), 10), pad(num2str(viga2DObj.Eo), 10));
0351             
0352             <span class="comment">% Se imprime matriz de rigidez local</span>
0353             fprintf(<span class="string">'\tMatriz de rigidez coordenadas locales:\n'</span>);
0354             <a href="#_sub20" class="code" title="subfunction disp(viga2DObj)">disp</a>(viga2DObj.obtenerMatrizRigidezCoordLocal());
0355             
0356             <span class="comment">% Se imprime matriz de rigidez global</span>
0357             fprintf(<span class="string">'\tMatriz de rigidez coordenadas globales:\n'</span>);
0358             <a href="#_sub20" class="code" title="subfunction disp(viga2DObj)">disp</a>(viga2DObj.obtenerMatrizRigidezCoordGlobal());
0359             
0360             <a href="../../../tefame/utils/dispMetodoTEFAME.html" class="code" title="function dispMetodoTEFAME()">dispMetodoTEFAME</a>();
0361             
0362         <span class="keyword">end</span> <span class="comment">% disp function</span>
0363         
0364     <span class="keyword">end</span> <span class="comment">% methods Viga2D</span>
0365     
0366 <span class="keyword">end</span> <span class="comment">% class Viga2D</span></pre></div>
<hr><address>Generated on Sun 12-May-2019 12:27:52 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>